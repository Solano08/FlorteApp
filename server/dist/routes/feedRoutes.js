"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const feedController_1 = require("../controllers/feedController");
const authMiddleware_1 = require("../middleware/authMiddleware");
const storage_1 = require("../config/storage");
const router = (0, express_1.Router)();
router.post('/uploads/media', authMiddleware_1.requireAuth, storage_1.feedMediaUpload.single('file'), feedController_1.feedController.uploadMedia.bind(feedController_1.feedController));
router.post('/uploads/attachments', authMiddleware_1.requireAuth, storage_1.feedFileUpload.single('file'), feedController_1.feedController.uploadAttachment.bind(feedController_1.feedController));
router.get('/saved', authMiddleware_1.requireAuth, feedController_1.feedController.listSavedPosts.bind(feedController_1.feedController));
router.get('/', authMiddleware_1.requireAuth, feedController_1.feedController.listFeed.bind(feedController_1.feedController));
router.post('/', authMiddleware_1.requireAuth, feedController_1.feedController.createPost.bind(feedController_1.feedController));
router.post('/:postId/reactions', authMiddleware_1.requireAuth, feedController_1.feedController.reactToPost.bind(feedController_1.feedController));
router.post('/:postId/comments', authMiddleware_1.requireAuth, feedController_1.feedController.commentOnPost.bind(feedController_1.feedController));
router.get('/:postId/comments', authMiddleware_1.requireAuth, feedController_1.feedController.listComments.bind(feedController_1.feedController));
router.post('/:postId/save', authMiddleware_1.requireAuth, feedController_1.feedController.toggleSave.bind(feedController_1.feedController));
router.post('/:postId/share', authMiddleware_1.requireAuth, feedController_1.feedController.sharePost.bind(feedController_1.feedController));
router.post('/:postId/report', authMiddleware_1.requireAuth, feedController_1.feedController.reportPost.bind(feedController_1.feedController));
router.delete('/:postId', authMiddleware_1.requireAuth, feedController_1.feedController.deletePost.bind(feedController_1.feedController));
exports.default = router;
